export function getStorage(n){try{return n.toLowerCase()==="sessionstorage"?sessionStorage:n.toLowerCase()==="localstorage"?localStorage:null}catch(t){return null}}export function storageAvailable(n){let t=getStorage(n);if(t===null)return!1;try{const n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(i){return i instanceof DOMException&&(i.code===22||i.code===1014||i.name==="QuotaExceededError"||i.name==="NS_ERROR_DOM_QUOTA_REACHED")&&t&&t.length!==0}}export function storageSet(n,t,i){try{let r=getStorage(n);return r===null?!1:(r.setItem(t,i),!0)}catch(r){return!1}}export function storageGet(n,t){try{let i=getStorage(n);return i===null?"":i.getItem(t)}catch(i){return""}}export function storageRemove(n,t){try{let i=getStorage(n);return i===null?!1:i.length<=0||i.getItem(t)===undefined?!1:(localStorage.removeItem(t),!0)}catch(i){return!1}}export function storageCount(n){try{let t=getStorage(n);return t===null?0:t.length<=0?0:t.length}catch(t){return 0}}export function storageClear(n){try{let t=getStorage(n);return t===null?!1:(t.clear(),!0)}catch(t){return!1}}export function storageGetAll(n){try{let i=getStorage(n);if(i===null)return[];let r=[];const t=Object.keys(i);for(let n=0;n<t.length;n++)t[n]&&r.push(t[n].toString()+"="+i.getItem(t[n].toString()));return r}catch(t){return[]}}export function storageListener(n){window.addEventListener("storage",t=>{let i;i.key=t.key;i.oldValue=t.oldValue;i.newValue=t.newValue;i.url=t.url;n.invokeMethodAsync("StorageChange",JSON.stringify(i))})}